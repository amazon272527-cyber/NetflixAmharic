<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netflix Amharic - Sign Up</title> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* áˆˆá‹šáˆ… áŒˆáŒ½ á‰¥á‰»: á‹¨áŒ€áˆ­á‰£ áˆáˆµáˆ áŠ¥áŠ“ áˆ™áˆ‰ áˆµáŠ­áˆªáŠ• áˆ›á‹•áŠ¨áˆ‹á‹ŠáŠá‰µ */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            /* áŠ¥á‰£áŠ­á‹ 'hero_image.jpg' á‹á‹­áˆá‹ áŠ«áˆˆ á‹«áˆ¨áŒ‹áŒáŒ¡ */
            background-image: url('hero_image.jpg'); 
            background-size: cover;
            background-position: center;
            position: relative;
        }

        /* áŒ¥á‰áˆ­ áŒáˆ«á‹²á‹¨áŠ•á‰µ á‹³áˆ«á‹áŠ• áˆˆáˆ˜á‹°á‰¥á‹˜á‹ */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7); 
            z-index: 1;
        }

        /* á‹¨ááˆ­áˆ™áŠ• áŠ¨áˆŒáˆá‰½ áŠáŒˆáˆ®á‰½ á‰ áˆ‹á‹­ áŠ¥áŠ•á‹²áˆ†áŠ• */
        .signup-container {
            z-index: 2;
        }
        
        /* --- Google Sign Up Button Style --- */
        .google-signup-btn {
            background-color: #4285F4; /* Google áˆ°áˆ›á‹«á‹Š */
            color: white;
            border: none;
            padding: 12px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            width: 100%;
            display: flex; 
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
        }
        
        .google-signup-btn:hover { background-color: #3367D6; }

        .google-icon {
            width: 18px;
            height: 18px;
            margin-right: 10px;
        }

        /* --- Separator (á‹ˆá‹­áˆ) Style --- */
        .social-login-separator {
            display: flex;
            align-items: center;
            text-align: center;
            color: #a0a0a0;
            margin: 20px 0;
        }

        .social-login-separator::before,
        .social-login-separator::after {
            content: '';
            flex-grow: 1;
            height: 1px;
            background: #333;
            margin: 0 10px;
        }
        .separator-text {
            background: #111; /* áŠ¨á‹³áˆ«á‹ á‰€áˆˆáˆ áŒ‹áˆ­ á‰°áˆ˜áˆ³áˆ³á‹­ á‹­áˆáŠ• */
            padding: 0 10px;
        }
        
        /* áˆˆáŠ©áŠª áˆ›áˆµáŒ áŠ•á‰€á‰‚á‹« á‹¨á‰°áŒ¨áˆ˜áˆ¨ áˆµá‰³á‹­áˆ */
        .cookie-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #222;
            color: white;
            padding: 15px;
            display: none; /* á‰ áˆ˜áŒ€áˆ˜áˆªá‹« áˆ˜á‹°á‰ á‰… */
            justify-content: space-between;
            align-items: center;
            z-index: 10;
        }
        .cookie-dismiss-btn {
            background: #e50914;
            color: white;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 3px;
        }

    </style>
</head>
<body>
    
    <div class="signup-container">
        <h1 class="signup-title">áŠ á‹²áˆµ á‹­áˆ˜á‹áŒˆá‰¡</h1>
        
        <button type="button" class="google-signup-btn" onclick="handleGoogleSignup()">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="google-icon">
                <path fill="#4285F4" d="M24 5c6.63 0 10.99 2.87 13.06 4.94l-3.35 3.25c-1.3-.9-4.04-2.19-9.71-2.19c-7.98 0-14.83 5.37-17.18 12.59l-3.23-2.52C2.11 15.34 11.2 5 24 5z"></path>
                <path fill="#34A853" d="M41 24c0-1.28-.11-2.48-.3-3.64H24v7.28h10.63c-.5 2.76-2.1 5.38-4.52 7.03l4.5 3.5c3.08-2.88 5.09-7.25 5.09-12.17z"></path>
                <path fill="#FBBC05" d="M24 43c-6.81 0-12.63-2.73-16.8-7.39l4.82-3.75c2.51 3.2 6.57 5.4 11.98 5.4c4.65 0 8.58-1.57 11.45-4.25l4.5 3.5c-3.72 3.48-8.81 5.89-16.14 5.89z"></path>
                <path fill="#EA4335" d="M7.2 24c0-2.44.62-4.75 1.7-6.75l-4.82-3.75C2.11 18.66 0 21.28 0 24s2.11 5.34 4.08 8.5l4.82-3.75c-1.08-2-1.7-4.31-1.7-6.75z"></path>
            </svg>
            á‰  Google á‹­áˆ˜á‹áŒˆá‰¡ (Sign Up with Google)
        </button>
        
        <div class="social-login-separator">
            <span class="separator-text">á‹ˆá‹­áˆ á‰ áŠ¥áŒ…á‹ á‹«áˆµáŒˆá‰¡</span>
        </div>
        
        <form class="signup-form">
            
            <div class="input-group">
                <input type="text" id="signup-username" placeholder="áˆ™áˆ‰ áˆµáˆ á‹«áˆµáŒˆá‰¡" required>
            </div>
            
            <div class="input-group">
                <input type="email" id="signup-email" placeholder="áŠ¢áˆœá‹­áˆ áŠ á‹µáˆ«áˆ»" required>
            </div>
            
            <div class="input-group">
                <input type="password" id="signup-password" placeholder="á‹¨á‹­áˆˆá á‰ƒáˆ" required>
            </div>
            
            <div class="input-group">
                <select id="gender" required>
                    <option value="" disabled selected>á†á‰³ á‹­áˆáˆ¨áŒ¡</option>
                    <option value="male">á‹ˆáŠ•á‹µ</option>
                    <option value="female">áˆ´á‰µ</option>
                </select>
            </div>

            <div class="terms-checkbox">
                <input type="checkbox" id="terms" required>
                <label for="terms">á‹¨áŠ áŒˆáˆáŒáˆá‰µ <a href="#" class="form-link">á‹°áŠ•á‰¦á‰½áŠ•</a> á‰°áˆµáˆ›áˆá‰»áˆˆáˆá¢</label>
            </div>
            
            <button type="submit" class="signup-btn">á‹­áˆ˜á‹áŒˆá‰¡ (Sign Up)</button>
        </form>
        
        <div class="login-prompt">
            á‹¨á‰°áŒ á‰ƒáˆš áŠ áŠ«á‹áŠ•á‰µ áŠ áˆˆá‹á‰µ? <a href="signin.html" class="form-link">á‹­áŒá‰¡ (Sign In)</a>
        </div>
    </div>

    <div class="cookie-bar" id="cookie-consent-bar" style="display:none;">
        <p>á‹­áˆ… á‹µáˆ¨-áŒˆáŒ½ á‹¨áŠ áŒˆáˆáŒáˆá‰µ áŒ¥áˆ«á‰µ áˆˆáˆ›áˆ»áˆ»áˆ áŠ©áŠªá‹á‰½áŠ• á‹­áŒ á‰€áˆ›áˆá¢</p>
        <button class="cookie-dismiss-btn" id="accept-cookies">áŠ¥á‰€á‰ áˆ‹áˆˆáˆ</button>
    </div>

    <script>
        // ğŸŸ¢ á‹¨ Google Signup áŠ áˆ›áˆ«áŒ­áŠ• á‹¨áˆšá‹«áˆ³á‹­ áŠ¥áŠ“ á‹¨áˆšáˆ˜á‹˜áŒá‰¥ á‰°áŒá‰£áˆ­
        function handleGoogleSignup() {
            // á‹¨áˆ›áˆ³á‹« Google áŠ áŠ«á‹áŠ•á‰¶á‰½ á‹áˆ­á‹áˆ­
            const googleAccounts = [
                'alemu.kebede@gmail.com',
                'seble.tadesse@gmail.com',
                'demo_user@gmail.com'
            ];

            let message = "á‰  Google á‹­áˆ˜á‹áŒˆá‰¡ (Sign Up with Google) \n\náŠ¥á‰£áŠ­á‹ áŠ áŠ•á‹±áŠ• áŠ áŠ«á‹áŠ•á‰µ á‹­áˆáˆ¨áŒ¡ (á‰áŒ¥áˆ­ á‹«áˆµáŒˆá‰¡):\n";
            
            // áŠ áŠ«á‹áŠ•á‰¶á‰¹áŠ• á‰ á‰áŒ¥áˆ­ áˆ˜á‹˜áˆ­á‹˜áˆ­
            googleAccounts.forEach((account, index) => {
                message += `${index + 1}. ${account}\n`;
            });
            message += "\náˆˆáˆ˜áˆ°áˆ¨á‹ 'C' á‹¨áˆšáˆˆá‹áŠ• á‹­áŒ«áŠ‘á¢";

            // á‰°áŒ á‰ƒáˆšá‹ áŠ áŠ«á‹áŠ•á‰µ áŠ¥áŠ•á‹²áˆ˜áˆ­áŒ¥ áˆ˜áŒ á‹¨á‰…
            const selection = prompt(message);

            if (selection === null || selection.toUpperCase() === 'C') {
                alert("á‹¨Google áˆá‹áŒˆá‰£á‹ á‰°áˆ°áˆ­á‹Ÿáˆá¢");
                return;
            }

            const selectedIndex = parseInt(selection) - 1;

            if (selectedIndex >= 0 && selectedIndex < googleAccounts.length) {
                const selectedEmail = googleAccounts[selectedIndex];
                
                // 1. áŠá‰£áˆ­ á‰°áŒ á‰ƒáˆšá‹á‰½áŠ• áŠ¨Local Storage áˆ›áˆáŒ£á‰µ
                let registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];

                // 2. áŠ¢áˆœá‹­áˆ‰ áŠ áˆµá‰€á‹µáˆ áˆ˜áˆ˜á‹áŒˆáˆ©áŠ• áˆ›áˆ¨áŒ‹áŒˆáŒ¥ (Case-insensitive)
                const userExists = registeredUsers.some(user => user.email.toLowerCase() === selectedEmail.toLowerCase());

                if (userExists) {
                    alert(`âŒ áŠ áŠ«á‹áŠ•á‰µá‹ (${selectedEmail}) áŠ áˆµá‰€á‹µáˆ á‰°áˆ˜á‹áŒá‰§áˆá¢ áŠ¥á‰£áŠ­á‹ á‰ á‰€áŒ¥á‰³ á‹­áŒá‰¡ (Sign In)á¢`);
                    return;
                }

                // 3. áŠ á‹²áˆµ á‰°áŒ á‰ƒáˆš áˆ˜ááŒ áˆ­
                const newGoogleUser = {
                    username: selectedEmail.split('@')[0], // áŠ¢áˆœá‹­áˆ‰áŠ• á‹ˆá‹° á‰°áŒ á‰ƒáˆš áˆµáˆ áˆ˜á‰€á‹¨áˆ­
                    email: selectedEmail,
                    password: "google_account_authenticated", 
                    gender: "N/A" // áŠ¨Google áˆµáˆˆáˆ˜áŒ£ áŒ¾á‰³á‹áŠ• N/A áŠ¥áŠ“á‹°áˆ­áŒ‹áˆˆáŠ•
                };
                registeredUsers.push(newGoogleUser);
                
                // 4. á‹áˆ­á‹áˆ©áŠ• áˆ›áˆµá‰€áˆ˜áŒ¥ áŠ¥áŠ“ á‹ˆá‹° áˆ˜áŒá‰¢á‹« áŒˆáŒ½ áˆ˜áˆáˆ«á‰µ
                localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));

                alert(`ğŸ‰ á‰  Google áŠ áŠ«á‹áŠ•á‰µá‹ (${newGoogleUser.username}) á‰ á‰°áˆ³áŠ« áˆáŠ”á‰³ á‰°áˆ˜á‹áŒá‰ á‹‹áˆá¢ áŠ áˆáŠ• áˆ˜áŒá‰£á‰µ á‹­á‰½áˆ‹áˆ‰á¢`);
                window.location.href = 'signin.html';

            } else {
                alert("âŒ á‹¨á‰°áˆ³áˆ³á‰° áˆáˆ­áŒ«á¢ áŠ¥á‰£áŠ­á‹ áŠ¨1 áŠ¥áˆµáŠ¨ 3 á‹«áˆˆ á‰áŒ¥áˆ­ á‹­áˆáˆ¨áŒ¡á¢");
            }
        }


        // --- áˆ˜á‹°á‰ áŠ› á‹¨áŠ¢áˆœá‹­áˆ áˆá‹áŒˆá‰£ (Manual Email Signup) ---

        const signupForm = document.querySelector('.signup-form');
        const usernameInput = document.getElementById('signup-username');
        const emailInput = document.getElementById('signup-email');
        const passwordInput = document.getElementById('signup-password');
        const genderInput = document.getElementById('gender');

        if (signupForm) {
            signupForm.addEventListener('submit', function(event) {
                event.preventDefault();
                
                const username = usernameInput.value.trim();
                const email = emailInput.value.trim();
                const password = passwordInput.value;
                const gender = genderInput.value;

                // 1. áŠá‰£áˆ­ á‰°áŒ á‰ƒáˆšá‹á‰½áŠ• á‰ á‹°áˆ…áŠ•áŠá‰µ áŠ¨Local Storage áˆ›áˆáŒ£á‰µ
                let registeredUsers;
                try {
                    registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];
                } catch (e) {
                    console.error("Error reading registeredUsers from LocalStorage:", e);
                    registeredUsers = [];
                }

                // 2. áŠ¢áˆœá‹­áˆ‰ áŠ áˆµá‰€á‹µáˆ áˆ˜áˆ˜á‹áŒˆáˆ©áŠ• áˆ›áˆ¨áŒ‹áŒˆáŒ¥ (Case-insensitive)
                const userExists = registeredUsers.some(user => user.email.toLowerCase() === email.toLowerCase());

                if (userExists) {
                    alert('âŒ á‹­áˆ… áŠ¢áˆœá‹­áˆ áŠ áˆµá‰€á‹µáˆ á‰°áˆ˜á‹áŒá‰§áˆá¢ áŠ¥á‰£áŠ­á‹ á‹­áŒá‰¡ (Sign In)á¢');
                    return;
                }

                // 3. áŠ á‹²áˆ±áŠ• á‰°áŒ á‰ƒáˆš á‹ˆá‹° á‹áˆ­á‹áˆ© áˆ˜áŒ¨áˆ˜áˆ­
                const newUser = { 
                    username: username, 
                    email: email, 
                    password: password, 
                    gender: gender 
                };
                registeredUsers.push(newUser);
                
                // 4. áŠ á‹²áˆ±áŠ• á‹áˆ­á‹áˆ­ á‰ Local Storage áˆ‹á‹­ áˆ›áˆµá‰€áˆ˜áŒ¥
                localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));

                // á‹ˆá‹° áˆ˜áŒá‰¢á‹« áŒˆáŒ½ (signin.html) áˆ˜áˆáˆ«á‰µ
                alert(`ğŸ‰ ${username}á£ á‰ á‰°áˆ³áŠ« áˆáŠ”á‰³ á‰°áˆ˜á‹áŒá‰ á‹‹áˆá¢ áŠ áˆáŠ• áˆ˜áŒá‰£á‰µ á‹­á‰½áˆ‹áˆ‰á¢`);
                window.location.href = 'signin.html';
            });
        }

        
        // á‹¨áŠ©áŠª áˆ›áˆµáŒ áŠ•á‰€á‰‚á‹« á‰°áŒá‰£áˆ­
        document.addEventListener('DOMContentLoaded', () => {
            const cookieBar = document.getElementById('cookie-consent-bar');
            const acceptButton = document.getElementById('accept-cookies');
            const cookieAccepted = localStorage.getItem('cookieConsent');

            if (!cookieAccepted && cookieBar) {
                cookieBar.style.display = 'flex';
            } else if (cookieBar) {
                cookieBar.style.display = 'none';
            }

            if (acceptButton) {
                acceptButton.addEventListener('click', () => {
                    localStorage.setItem('cookieConsent', 'accepted');
                    if (cookieBar) {
                        cookieBar.style.display = 'none';
                    }
                });
            }
        });
    </script>
</body>
</html>