<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netflix Amharic - Sign In</title> 
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* áˆˆá‹šáˆ… áŒˆáŒ½ á‰¥á‰»: á‹¨áŒ€áˆ­á‰£ áˆáˆµáˆ áŠ¥áŠ“ áˆ™áˆ‰ áˆµáŠ­áˆªáŠ• áˆ›á‹•áŠ¨áˆ‹á‹ŠáŠá‰µ */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            /* áŠ¥á‰£áŠ­á‹ 'hero_image.jpg' á‹á‹­áˆá‹ áŠ«áˆˆ á‹«áˆ¨áŒ‹áŒáŒ¡ */
            background-image: url('hero_image.jpg'); 
            background-size: cover;
            background-position: center;
            position: relative;
        }

        /* áŒ¥á‰áˆ­ áŒáˆ«á‹²á‹¨áŠ•á‰µ á‹³áˆ«á‹áŠ• áˆˆáˆ˜á‹°á‰¥á‹˜á‹ */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7); 
            z-index: 1;
        }

        /* á‹¨ááˆ­áˆ™áŠ• áŠ¨áˆŒáˆá‰½ áŠáŒˆáˆ®á‰½ á‰ áˆ‹á‹­ áŠ¥áŠ•á‹²áˆ†áŠ• (.signup-container á‹¨áˆšáˆˆá‹ áˆµáˆ áˆˆáŒŠá‹œá‹ á‰°áŒ á‰¥á‰‹áˆ) */
        .signup-container {
            z-index: 2;
            /* áˆˆáˆ˜áŒá‰¢á‹« á‹¨á‰°áˆ»áˆˆ áˆµáˆ: .signin-container áˆŠáˆ†áŠ• á‹­á‰½áˆ‹áˆ */
        }
        
        /* --- 1. Google Sign In Button Style --- */
        .google-signin-btn { /* áˆµáˆ™ áŠ¨ signup-btn á‹ˆá‹° signin-btn á‰°á‰€á‹­áˆ¯áˆ */
            background-color: #4285F4; /* Google áˆ°áˆ›á‹«á‹Š */
            color: white;
            border: none;
            padding: 12px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            width: 100%;
            display: flex; 
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
        }
        
        .google-signin-btn:hover { background-color: #3367D6; }

        .google-icon {
            width: 18px;
            height: 18px;
            margin-right: 10px;
        }

        /* --- 2. Separator (á‹ˆá‹­áˆ) Style --- */
        .social-login-separator {
            display: flex;
            align-items: center;
            text-align: center;
            color: #a0a0a0;
            margin: 20px 0;
        }

        .social-login-separator::before,
        .social-login-separator::after {
            content: '';
            flex-grow: 1;
            height: 1px;
            background: #333;
            margin: 0 10px;
        }
        .separator-text {
            background: #111; /* áŠ¨á‹³áˆ«á‹ á‰€áˆˆáˆ áŒ‹áˆ­ á‰°áˆ˜áˆ³áˆ³á‹­ á‹­áˆáŠ• */
            padding: 0 10px;
        }
    </style>
</head>
<body>
    
    <div class="signup-container">
        <h1 class="signup-title">á‹­áŒá‰¡ (Sign In)</h1>
        
        <button type="button" class="google-signin-btn" onclick="handleGoogleSignin()">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="google-icon">
                <path fill="#4285F4" d="M24 5c6.63 0 10.99 2.87 13.06 4.94l-3.35 3.25c-1.3-.9-4.04-2.19-9.71-2.19c-7.98 0-14.83 5.37-17.18 12.59l-3.23-2.52C2.11 15.34 11.2 5 24 5z"></path>
                <path fill="#34A853" d="M41 24c0-1.28-.11-2.48-.3-3.64H24v7.28h10.63c-.5 2.76-2.1 5.38-4.52 7.03l4.5 3.5c3.08-2.88 5.09-7.25 5.09-12.17z"></path>
                <path fill="#FBBC05" d="M24 43c-6.81 0-12.63-2.73-16.8-7.39l4.82-3.75c2.51 3.2 6.57 5.4 11.98 5.4c4.65 0 8.58-1.57 11.45-4.25l4.5 3.5c-3.72 3.48-8.81 5.89-16.14 5.89z"></path>
                <path fill="#EA4335" d="M7.2 24c0-2.44.62-4.75 1.7-6.75l-4.82-3.75C2.11 18.66 0 21.28 0 24s2.11 5.34 4.08 8.5l4.82-3.75c-1.08-2-1.7-4.31-1.7-6.75z"></path>
            </svg>
            á‰  Google á‹­áŒá‰¡ (Sign In with Google)
        </button>
        
        <div class="social-login-separator">
            <span class="separator-text">á‹ˆá‹­áˆ á‰ áŠ¥áŒ…á‹ á‹«áˆµáŒˆá‰¡</span>
        </div>
        
        <form class="signin-form">
            
            <div class="input-group">
                <input type="email" id="signin-email" placeholder="áŠ¢áˆœá‹­áˆ áŠ á‹µáˆ«áˆ»" required>
            </div>
            
            <div class="input-group">
                <input type="password" id="signin-password" placeholder="á‹¨á‹­áˆˆá á‰ƒáˆ" required>
            </div>
            
            <div class="remember-me">
                <a href="#" class="form-link">á‹¨á‹­áˆˆá  á‰ƒáˆ áˆ¨áˆ±?</a>
            </div>
            
            <button type="submit" class="signup-btn">á‹­áŒá‰¡ (Sign In)</button>
        </form>
        
        <div class="login-prompt">
            á‹¨á‰°áŒ á‰ƒáˆš áŠ áŠ«á‹áŠ•á‰µ á‹¨áˆˆá‹á‰µáˆ? <a href="signup.html" class="form-link">á‹­áˆ˜á‹áŒˆá‰¡ (Sign Up)</a>
        </div>
    </div>
    
    <div class="cookie-bar" id="cookie-consent-bar" style="display:none;">
        <p>á‹­áˆ… á‹µáˆ¨-áŒˆáŒ½ á‹¨áŠ áŒˆáˆáŒáˆá‰µ áŒ¥áˆ«á‰µ áˆˆáˆ›áˆ»áˆ»áˆ áŠ©áŠªá‹á‰½áŠ• á‹­áŒ á‰€áˆ›áˆá¢</p>
        <button class="cookie-dismiss-btn" id="accept-cookies">áŠ¥á‰€á‰ áˆ‹áˆˆáˆ</button>
    </div>

    <script>
        // ğŸŸ¢ Google Sign In (á‰ áˆ›áˆ³á‹« áˆá‹µ)
        function handleGoogleSignin() {
            // á‰ áŠ¥á‹áŠá‰°áŠ› á•áˆ®áŒ€áŠ­á‰µ á‹­áˆ… á‰°áŒá‰£áˆ­ á‹¨GoogleáŠ• áˆ›áˆ¨áŒ‹áŒˆáŒ« (Authentication) áŠ®á‹µ á‹­áŒ á‰€áˆ›áˆ
            alert("á‰ áˆ›áˆ³á‹« áˆá‹µ (Demo Mode) áˆ‹á‹­ áŠáŠ•á¢ áŠ¥á‹áŠá‰°áŠ› á‹¨ Google Sign In áˆˆáˆ˜áˆµáˆ«á‰µ á‰°áŒ¨áˆ›áˆª á‹¨áŠ®á‹µ áŠ¥áŠ“ á‹¨Google Client ID á‹«áˆµáˆáˆáŒ‹áˆá¢");
            
            // áˆˆáˆ™áŠ¨áˆ«: á‰°áŒ á‰ƒáˆšá‹ Google Sign Up áŠ«á‹°áˆ¨áŒˆ á‰ áŠ‹áˆ‹ áŠ¥áŠ•á‹²áˆáŠ­áˆ­ áˆ›á‰ áˆ¨á‰³á‰³á‰µ
            const registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];
            const googleUsers = registeredUsers.filter(user => user.password === 'google_account_authenticated');
            
            if (googleUsers.length > 0) {
                 alert(`á‰ áˆ˜á‹°á‰ áŠ› áˆ˜áŒá‰¢á‹« (Email/Password) áŠ¨á‹šáˆ… á‰€á‹°áˆ á‹¨á‰°áˆ˜á‹˜áŒˆá‰¡ ${googleUsers.length} á‹¨ Google áŠ áŠ«á‹áŠ•á‰¶á‰½áŠ• á‰ áˆ˜áŒ á‰€áˆ áˆ˜áŒá‰£á‰µ á‹­á‰½áˆ‹áˆ‰á¢`);
            }
        }

        // --- áˆ˜á‹°á‰ áŠ› á‹¨áˆ˜áŒá‰¢á‹« áˆáŒ‚áŠ­ (Manual Sign In) ---

        const signinForm = document.querySelector('.signin-form');
        const emailInput = document.getElementById('signin-email');
        const passwordInput = document.getElementById('signin-password');

        if (signinForm) {
            signinForm.addEventListener('submit', function(event) {
                event.preventDefault();
                
                const email = emailInput.value.trim();
                const password = passwordInput.value;
                let registeredUsers = [];

                // 1. á‹¨á‰°áˆ˜á‹˜áŒˆá‰¡ á‰°áŒ á‰ƒáˆšá‹á‰½áŠ• áŠ¨Local Storage áˆ›áˆáŒ£á‰µ
                try {
                    registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];
                } catch (e) {
                    console.error("Error reading registeredUsers from LocalStorage:", e);
                }

                // 2. á‹¨á‰°áŒ á‰ƒáˆšá‹áŠ• áˆ˜áˆ¨áŒƒ áˆ›áˆ¨áŒ‹áŒˆáŒ¥
                const user = registeredUsers.find(
                    u => u.email.toLowerCase() === email.toLowerCase() && u.password === password
                );

                if (user) {
                    // 3. á‰ á‰°áˆ³áŠ« áˆáŠ”á‰³ áˆ²áŒˆá‰£ á‹ˆá‹° 'home.html' áˆ˜áˆáˆ«á‰µ
                    alert(`âœ… áŠ¥áŠ•áŠ³áŠ• á‹°áˆ…áŠ“ áˆ˜áŒ£áˆ…/áˆ½ ${user.username}á¢ á‰ á‰°áˆ³áŠ« áˆáŠ”á‰³ áŒˆá‰¥á‰°á‹‹áˆá¢`);
                    // ğŸ”´ áŠ áˆµáˆáˆ‹áŒŠ: áŠ¥á‰£áŠ­á‹ á‹­áˆ…áŠ•áŠ• á‹ˆá‹° áŠ¥á‹áŠá‰°áŠ› á‹¨áˆ˜áŠáˆ» áŒˆáŒ½á‹ (áˆˆáˆáˆ³áˆŒ home.html) á‹­áˆˆá‹áŒ¡
                    window.location.href = 'home.html'; 
                } else {
                    // 4. á‹¨á‰°áˆ³áˆ³á‰° áˆ˜áˆ¨áŒƒ
                    alert('âŒ á‹¨áˆ˜áŒá‰¢á‹« áˆ˜áˆ¨áŒƒ á‹¨á‰°áˆ³áˆ³á‰° áŠá‹á¢ áŠ¢áˆœá‹­áˆá‹áŠ• á‹ˆá‹­áˆ á‹¨á‹­áˆˆá á‰ƒáˆá‹áŠ• á‹«áˆ¨áŒ‹áŒáŒ¡á¢');
                }
            });
        }
        
        // á‹¨áŠ©áŠª áˆ›áˆµáŒ áŠ•á‰€á‰‚á‹« á‰°áŒá‰£áˆ­
        document.addEventListener('DOMContentLoaded', () => {
            const cookieBar = document.getElementById('cookie-consent-bar');
            const acceptButton = document.getElementById('accept-cookies');
            const cookieAccepted = localStorage.getItem('cookieConsent');

            if (!cookieAccepted && cookieBar) {
                cookieBar.style.display = 'flex';
            } else if (cookieBar) {
                cookieBar.style.display = 'none';
            }

            if (acceptButton) {
                acceptButton.addEventListener('click', () => {
                    localStorage.setItem('cookieConsent', 'accepted');
                    if (cookieBar) {
                        cookieBar.style.display = 'none';
                    }
                });
            }
        });
    </script>
</body>
</html>